---
title: "æƒ³éƒ¨ç½²å±äºè‡ªå·±çš„GistæœåŠ¡ï¼Ÿæ¥è¯•è¯•OpenGistï¼"
published: 2023-07-12
tags: [OpenGist,Gist,github]
category: æ•™ç¨‹
draft: false
---

# æƒ³éƒ¨ç½²å±äºè‡ªå·±çš„GistæœåŠ¡ï¼Ÿæ¥è¯•è¯•OpenGistï¼

>ğŸ–‹ï¸ä½œè€…ï¼š åƒçŸ³ğŸŒŸ  
>ğŸŒä¸ªäººç½‘ç«™ï¼šcnqs.moeğŸš€  
>ğŸ¤æ”¯æŒæ–¹å¼ï¼šğŸ’¬è¯„è®º  
>ğŸ’¬æ¬¢è¿å„ä½åœ¨è¯„è®ºåŒºğŸ—£ï¸äº¤æµï¼ŒæœŸå¾…ä½ çš„çµæ„Ÿç¢°æ’ğŸŒˆ

## 0. èƒŒæ™¯
åœ¨ä¹‹å‰æŒ‡å¯¼å­¦å¦¹Pythonçˆ¬è™«ç¼–ç¨‹è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°ä»£ç ä¼ é€’ç›¸å½“ä¸ä¾¿ï¼Œç›´æ¥å‘é€å¯èƒ½ä¼šå¤§é‡å ç”¨èŠå¤©ç©ºé—´ï¼ŒåŒæ—¶ä¹Ÿå¯èƒ½å› Pythonçš„ç¼©è¿›é—®é¢˜å¯¼è‡´é”™è¯¯ã€‚å°½ç®¡æˆ‘è€ƒè™‘è¿‡ç›´æ¥å‘é€æ–‡ä»¶ï¼Œä½†æ‹…å¿ƒå­¦å¦¹å¯èƒ½æ— æ³•ç†Ÿç»ƒæ“ä½œã€‚GitHub Gistä¸Ubuntuçš„PastebinæœåŠ¡è™½ç„¶èƒ½è§£å†³éƒ¨åˆ†é—®é¢˜ï¼Œä½†åœ¨å›½å†…è®¿é—®è¿™äº›å¹³å°å¯èƒ½ä¼šé‡åˆ°å›°éš¾ã€‚æœªæ‰¾åˆ°åˆé€‚çš„è§£å†³æ–¹æ¡ˆï¼Œè¿™ä¸ªé—®é¢˜å°±æ‚¬è€Œæœªå†³äº†ã€‚

[<img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/069109bd64a949aa9f08fccb64a7cbcc~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" width="50%" />](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/069109bd64a949aa9f08fccb64a7cbcc~tplv-k3u1fbpfcp-watermark.image)

æœ€è¿‘åœ¨GitHubé—²é€›çš„æ—¶å€™ï¼Œå‘ç°äº†ä¸€ä¸ªè‡ªæ‰˜ç®¡çš„GistæœåŠ¡é¡¹ç›®ï¼Œå¾ˆæ„Ÿå…´è¶£ï¼Œç ”ç©¶äº†ä¸€ç•ªï¼Œæ‰€ä»¥æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚

## 1. ä»‹ç»
### Gist

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/793614864b8b4207a2a5b6052ccd7402~tplv-k3u1fbpfcp-watermark.image?)

`Gist` æ˜¯[GitHub](https://zh.wikipedia.org/wiki/GitHub "GitHub")è¥è¿çš„ä¸€é¡¹ `pastebin` æœåŠ¡ã€‚å®ƒå…è®¸ç”¨æˆ·åˆ†äº«ä»£ç ç‰‡æ®µï¼Œå³ `gists`ã€‚`Gist`å¯ä»¥è¢«è§†ä¸º `GitHub` ä»“åº“ï¼Œå®ƒä»¬å¯ä»¥è¢« `fork`ã€`clone` å’Œä¿®æ”¹ï¼Œå°±åƒä»»ä½•å…¶ä»–ç±»å‹çš„ `Git` ä»“åº“ä¸€æ ·ã€‚

ç”±äºæœ¬æ–‡çš„é‡ç‚¹ä¸åœ¨ `Gist` ï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç« ï¼š
[ç¨‹åºå‘˜éƒ½åº”è¯¥äº†è§£çš„ä»£ç ç‰‡æ®µç®¡ç†ç¥å™¨ï¼šgist - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/6933075278512160776)
### Opengist

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e9df344f31154fccbd6fd3f66d0aa459~tplv-k3u1fbpfcp-watermark.image?)

Opengist ï¼šä¸€ä¸ªç”± Git æ”¯æŒçš„è‡ªæ‰˜ç®¡çš„ pastebin
- æ ¸å¿ƒåŠŸèƒ½ä¸ä¼˜ç‚¹ï¼š
    - ä»£ç ç‰‡æ®µçš„å‚¨å­˜ä¸åˆ†äº«
    - ç§æœ‰ä»£ç ç‰‡æ®µçš„æ”¯æŒ
    - æ”¯æŒMarkdownæ ¼å¼
    - å‹å¥½çš„ç”¨æˆ·ç•Œé¢
    - å¼€æºçš„ä¼˜åŠ¿

## 2. éƒ¨ç½²
ä½œè€…åœ¨ `ghcr.io` æ‰˜ç®¡äº† `Opengist` çš„ `docker` é•œåƒï¼Œæ‰€ä»¥è¿™é‡Œæ¨èä½¿ç”¨dockerè¿›è¡Œéƒ¨ç½²ï¼Œæ–¹ä¾¿è¿›è¡Œç®¡ç†

**Tips ï¼šç”±äº `ghcr.io` åœ¨å›½å†…æ˜¯æ— æ³•è®¿é—®çš„çŠ¶æ€ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨ [hub-mirror](https://github.com/togettoyou/hub-mirror) è¿™ä¸ªé¡¹ç›®æ¥è¿›è¡ŒåŠ é€Ÿ**

### Step0ï¼šç¯å¢ƒå‡†å¤‡
å®‰è£…dockerï¼ˆå‚è€ƒ[Docker æ•™ç¨‹ | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/docker/docker-tutorial.html)ï¼‰ï¼š
```shell
# å¯¹äº Ubuntu æˆ–è€… Debian ç³»ç»Ÿ
curl -fsSL https://test.docker.com -o test-docker.sh
sudo sh test-docker.sh
```

```
# å¯¹äº CentOS ç³»ç»Ÿ
curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun
```
å®‰è£…docker composeï¼š
```shell
$ sudo curl -L "https://ghproxy.com/https://github.com/docker/compose/releases/download/v2.2.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
```
æˆäºˆæƒé™
```
sudo chmod +x /usr/local/bin/docker-compose
```
åˆ›å»ºè½¯é“¾
```
$ sudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose
```
æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ
```
$ docker-compose version
```

**Tipsï¼š`Windows å’Œ Mac` çš„ Docker æ¡Œé¢ç‰ˆå’Œ Docker Toolbox å·²ç»åŒ…æ‹¬ Compose å’Œå…¶ä»– Docker åº”ç”¨ç¨‹åºï¼Œå› æ­¤ `Windows å’Œ Mac` ç”¨æˆ·ä¸éœ€è¦å•ç‹¬å®‰è£… Composeã€‚**

å¯¹äº `åŠ é€Ÿé•œåƒ` å’Œ `Windows` ä¸‹ `docker` çš„å®‰è£…ï¼Œå¯ä»¥å‚è€ƒä¸‹é¢ä¸¤ä¸ªé“¾æ¥ï¼š
- [Windows Docker å®‰è£… | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/docker/windows-docker-install.html)
- [Docker é•œåƒåŠ é€Ÿ | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/docker/docker-mirror-acceleration.html)
### Step1ï¼šæ‹‰å–é•œåƒ
æ‰§è¡Œä¸‹é¢çš„æŒ‡ä»¤ï¼š

```shell
echo -e '	\ndocker pull togettoyou/ghcr.io.thomiceli.opengist:latest\ndocker tag togettoyou/ghcr.io.thomiceli.opengist:latest ghcr.io/thomiceli/opengist:latest\n\n' | bash
```
### Step2ï¼šç¼–å†™`docker-compose.yml`
åˆ›å»ºä¸€ä¸ªåä¸º `docker-compose.yml` çš„æ–‡ä»¶ï¼Œå¡«å…¥ä»¥ä¸‹å†…å®¹ï¼Œå¹¶æ ¹æ®æ³¨é‡Šå†…å®¹ç»“åˆè‡ªèº«éœ€æ±‚è‡ªè¡Œä¿®æ”¹ï¼š
```yml
version: "3"

services:
  opengist:
    image: ghcr.io/thomiceli/opengist:1.4
    container_name: opengist
    restart: unless-stopped # å®˜æ–¹é»˜è®¤æ²¡æœ‰å¼€æœºè‡ªå¯ï¼Œå¦‚æœä½ éœ€è¦å¼€æœºè‡ªå¯ï¼Œunless-stoppedå¯ä»¥æ”¹ä¸ºalways
    ports:
      - "6157:6157" # HTTP ç«¯å£
      - "2222:2222" # SSH ç«¯å£ï¼Œå¦‚æœä¸éœ€è¦sshå¯ä»¥å»æ‰
    volumes:
      - "$HOME/.opengist:/opengist"
```
### Step3ï¼šè¿è¡Œ
`docker-compose.yml` åŒç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤ï¼š
```
docker-compose up -d
```
é€šè¿‡ä»¥ä¸‹å‘½ä»¤å¯ä»¥æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ï¼š
```
docker ps
```

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7a562fabbc20405c9b82085149c3c1b3~tplv-k3u1fbpfcp-watermark.image?)

Opengist ç°åœ¨æ­£åœ¨6157ç«¯å£è¿è¡Œï¼Œä½ å¯ä»¥é€šè¿‡ [http://localhost:6157](http://localhost:6157/) æ¥æµè§ˆã€‚

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/80abe2c39b694341aedab6d16b8f13b0~tplv-k3u1fbpfcp-watermark.image?)

## 3. ä½¿ç”¨
Opengist ç¬¬ä¸€æ¬¡åˆ›å»ºæ²¡æœ‰ä»»ä½•è´¦å·ï¼Œéœ€è¦è‡ªè¡Œåˆ›å»º

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6c1f34a8825a417c88619a0df3ede9f2~tplv-k3u1fbpfcp-watermark.image?)

æ³¨å†Œå¹¶ç™»å½•åé»˜è®¤æ˜¯ç®¡ç†å‘˜è´¦å·

ä¸‹é¢è¿™å¼ å›¾å›Šæ‹¬äº† Opengist çš„æ‰€æœ‰æ“ä½œï¼š

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/acc8d3833d0a4e1a80f099f32137f51e~tplv-k3u1fbpfcp-watermark.image?)

## æœ€å
Opengistä½¿ç”¨èµ·æ¥è¿˜æ˜¯å¾ˆç®€å•çš„ï¼Œè™½ç„¶æ²¡æœ‰ä¸­æ–‡æ”¯æŒï¼Œä½†æ˜¯ç•Œé¢ç®€å•ã€ä¸Šæ‰‹éš¾åº¦ä¸å¤§ï¼Œå­¦ä¹ æˆæœ¬å¾ˆä½ï¼Œå¤šç†Ÿæ‚‰å‡ æ¬¡å°ç™½ä¹Ÿèƒ½è½»æ¾å…¥é—¨ï¼Œæ„Ÿå…´è¶£å¹¶ä¸”æœ‰éœ€æ±‚çš„å°ä¼™ä¼´å¯ä»¥å»å°è¯•ä¸‹~
